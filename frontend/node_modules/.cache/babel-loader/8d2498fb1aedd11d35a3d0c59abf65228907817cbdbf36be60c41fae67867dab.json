{"ast":null,"code":"var _jsxFileName = \"/home/user2/\\uBB38\\uC11C/agentApp/frontend/src/components/SearchPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"../SearchPage.css\";\nimport { useSearchVideos } from \"../hooks/useSearchVideos\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchPage = () => {\n  _s();\n  const {\n    query,\n    setQuery,\n    textResults,\n    imageResults,\n    videoRefs,\n    handleSearch\n  } = useSearchVideos();\n\n  // 카드별 통계 데이터/로딩/오류 상태 관리 (session_id 기준)\n  const [statsMap, setStatsMap] = useState({});\n  const [openMap, setOpenMap] = useState({});\n  const [loadingMap, setLoadingMap] = useState({});\n  const [errorMap, setErrorMap] = useState({});\n  const fetchStats = async sessionId => {\n    // 이미 불러온 게 있으면 열기/닫기만 토글\n    if (statsMap[sessionId]) {\n      setOpenMap(m => ({\n        ...m,\n        [sessionId]: !m[sessionId]\n      }));\n      return;\n    }\n    try {\n      setLoadingMap(m => ({\n        ...m,\n        [sessionId]: true\n      }));\n      setErrorMap(m => ({\n        ...m,\n        [sessionId]: null\n      }));\n      const res = await fetch(`/api/stats/${encodeURIComponent(sessionId)}`);\n      if (!res.ok) {\n        const msg = await res.text();\n        throw new Error(msg || `HTTP ${res.status}`);\n      }\n      const data = await res.json();\n      setStatsMap(m => ({\n        ...m,\n        [sessionId]: data\n      }));\n      setOpenMap(m => ({\n        ...m,\n        [sessionId]: true\n      }));\n    } catch (e) {\n      setErrorMap(m => {\n        var _e$message;\n        return {\n          ...m,\n          [sessionId]: (_e$message = e === null || e === void 0 ? void 0 : e.message) !== null && _e$message !== void 0 ? _e$message : \"에러\"\n        };\n      });\n    } finally {\n      setLoadingMap(m => ({\n        ...m,\n        [sessionId]: false\n      }));\n    }\n  };\n  const StatsBlock = ({\n    s\n  }) => {\n    var _s$stats, _st$command$success_r, _st$command, _st$latency$action_pr, _st$latency, _st$latency$action_pr2, _st$latency$action_pr3, _st$latency2, _st$latency2$action_p, _st$latency$observati, _st$latency3, _st$latency3$observat, _st$latency$observati2, _st$latency4, _st$latency4$observat, _st$tracking_error$me, _st$tracking_error, _st$tracking_error$st, _st$tracking_error2, _st$joint_velocity_di, _st$joint_velocity_di2, _st$joint_velocity_di3, _st$joint_velocity_di4;\n    if (!s) return null;\n    if (!s.found) return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-box error\",\n      children: \"\\uD574\\uB2F9 \\uC138\\uC158 \\uD1B5\\uACC4\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 26\n    }, this);\n    const st = (_s$stats = s.stats) !== null && _s$stats !== void 0 ? _s$stats : {};\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stats-key\",\n          children: \"success_rate\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stats-val\",\n          children: (_st$command$success_r = (_st$command = st.command) === null || _st$command === void 0 ? void 0 : _st$command.success_rate) !== null && _st$command$success_r !== void 0 ? _st$command$success_r : \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stats-key\",\n          children: \"latency.action_prev (\\u03BC/\\u03C3)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stats-val\",\n          children: [(_st$latency$action_pr = (_st$latency = st.latency) === null || _st$latency === void 0 ? void 0 : (_st$latency$action_pr2 = _st$latency.action_prev) === null || _st$latency$action_pr2 === void 0 ? void 0 : _st$latency$action_pr2.mean) !== null && _st$latency$action_pr !== void 0 ? _st$latency$action_pr : \"-\", \" / \", (_st$latency$action_pr3 = (_st$latency2 = st.latency) === null || _st$latency2 === void 0 ? void 0 : (_st$latency2$action_p = _st$latency2.action_prev) === null || _st$latency2$action_p === void 0 ? void 0 : _st$latency2$action_p.std) !== null && _st$latency$action_pr3 !== void 0 ? _st$latency$action_pr3 : \"-\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stats-key\",\n          children: \"latency.observation_prev (\\u03BC/\\u03C3)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stats-val\",\n          children: [(_st$latency$observati = (_st$latency3 = st.latency) === null || _st$latency3 === void 0 ? void 0 : (_st$latency3$observat = _st$latency3.observation_prev) === null || _st$latency3$observat === void 0 ? void 0 : _st$latency3$observat.mean) !== null && _st$latency$observati !== void 0 ? _st$latency$observati : \"-\", \" / \", (_st$latency$observati2 = (_st$latency4 = st.latency) === null || _st$latency4 === void 0 ? void 0 : (_st$latency4$observat = _st$latency4.observation_prev) === null || _st$latency4$observat === void 0 ? void 0 : _st$latency4$observat.std) !== null && _st$latency$observati2 !== void 0 ? _st$latency$observati2 : \"-\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stats-key\",\n          children: \"tracking_error (\\u03BC/\\u03C3)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stats-val\",\n          children: [(_st$tracking_error$me = (_st$tracking_error = st.tracking_error) === null || _st$tracking_error === void 0 ? void 0 : _st$tracking_error.mean) !== null && _st$tracking_error$me !== void 0 ? _st$tracking_error$me : \"-\", \" / \", (_st$tracking_error$st = (_st$tracking_error2 = st.tracking_error) === null || _st$tracking_error2 === void 0 ? void 0 : _st$tracking_error2.std) !== null && _st$tracking_error$st !== void 0 ? _st$tracking_error$st : \"-\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stats-key\",\n          children: \"joint_velocity_diff (\\u03BC/\\u03C3)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"stats-val\",\n          children: [(_st$joint_velocity_di = (_st$joint_velocity_di2 = st.joint_velocity_diff) === null || _st$joint_velocity_di2 === void 0 ? void 0 : _st$joint_velocity_di2.mean) !== null && _st$joint_velocity_di !== void 0 ? _st$joint_velocity_di : \"-\", \" / \", (_st$joint_velocity_di3 = (_st$joint_velocity_di4 = st.joint_velocity_diff) === null || _st$joint_velocity_di4 === void 0 ? void 0 : _st$joint_velocity_di4.std) !== null && _st$joint_velocity_di3 !== void 0 ? _st$joint_velocity_di3 : \"-\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  };\n  const renderCard = (result, idx) => {\n    var _statsMap$sid;\n    const sid = String(result.session_id);\n    const isOpen = !!openMap[sid];\n    const isLoading = !!loadingMap[sid];\n    const err = errorMap[sid];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"result-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [result.session_id, \" - \", result.camera_id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: el => {\n          if (videoRefs.current) videoRefs.current[idx] = el;\n        },\n        src: result.video_url,\n        controls: true,\n        autoPlay: true,\n        muted: true,\n        width: \"320\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => fetchStats(sid),\n          disabled: isLoading,\n          children: isLoading ? \"불러오는 중...\" : isOpen ? \"통계 닫기\" : \"통계 보기\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), err && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-box error\",\n        children: [\"\\uC5D0\\uB7EC: \", err]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), isOpen && /*#__PURE__*/_jsxDEV(StatsBlock, {\n        s: (_statsMap$sid = statsMap[sid]) !== null && _statsMap$sid !== void 0 ? _statsMap$sid : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 20\n      }, this)]\n    }, sid, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694...\",\n        value: query,\n        onChange: e => setQuery(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSearch,\n        children: \"\\uAC80\\uC0C9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"results-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"results-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD14D\\uC2A4\\uD2B8 \\u2192 \\uD14D\\uC2A4\\uD2B8 \\uACB0\\uACFC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), textResults.slice(0, 5).map((r, idx) => renderCard(r, idx))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"results-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD14D\\uC2A4\\uD2B8 \\u2192 \\uC774\\uBBF8\\uC9C0 \\uACB0\\uACFC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), imageResults.slice(0, 5).map((r, idx) => renderCard(r, idx))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchPage, \"3eQXbKHIcTMuI44xsfs9Qrd3KN0=\", false, function () {\n  return [useSearchVideos];\n});\n_c = SearchPage;\nexport default SearchPage;\nvar _c;\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["React","useState","useSearchVideos","jsxDEV","_jsxDEV","SearchPage","_s","query","setQuery","textResults","imageResults","videoRefs","handleSearch","statsMap","setStatsMap","openMap","setOpenMap","loadingMap","setLoadingMap","errorMap","setErrorMap","fetchStats","sessionId","m","res","fetch","encodeURIComponent","ok","msg","text","Error","status","data","json","e","_e$message","message","StatsBlock","s","_s$stats","_st$command$success_r","_st$command","_st$latency$action_pr","_st$latency","_st$latency$action_pr2","_st$latency$action_pr3","_st$latency2","_st$latency2$action_p","_st$latency$observati","_st$latency3","_st$latency3$observat","_st$latency$observati2","_st$latency4","_st$latency4$observat","_st$tracking_error$me","_st$tracking_error","_st$tracking_error$st","_st$tracking_error2","_st$joint_velocity_di","_st$joint_velocity_di2","_st$joint_velocity_di3","_st$joint_velocity_di4","found","className","children","fileName","_jsxFileName","lineNumber","columnNumber","st","stats","command","success_rate","latency","action_prev","mean","std","observation_prev","tracking_error","joint_velocity_diff","renderCard","result","idx","_statsMap$sid","sid","String","session_id","isOpen","isLoading","err","camera_id","ref","el","current","src","video_url","controls","autoPlay","muted","width","onClick","disabled","type","placeholder","value","onChange","target","slice","map","r","_c","$RefreshReg$"],"sources":["/home/user2/문서/agentApp/frontend/src/components/SearchPage.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"../SearchPage.css\";\nimport { useSearchVideos } from \"../hooks/useSearchVideos\";\n\ntype StatsResponse = {\n  session_id: string;\n  found: boolean;\n  stats: {\n    latency?: {\n      action_prev?: { mean?: number; std?: number };\n      observation_prev?: { mean?: number; std?: number };\n    };\n    command?: { success_rate?: number };\n    tracking_error?: { mean?: number; std?: number };\n    joint_velocity_diff?: { mean?: number; std?: number };\n  } | null;\n};\n\nconst SearchPage: React.FC = () => {\n  const {\n    query,\n    setQuery,\n    textResults,\n    imageResults,\n    videoRefs,\n    handleSearch,\n  } = useSearchVideos();\n\n  // 카드별 통계 데이터/로딩/오류 상태 관리 (session_id 기준)\n  const [statsMap, setStatsMap] = useState<Record<string, StatsResponse | null>>({});\n  const [openMap, setOpenMap] = useState<Record<string, boolean>>({});\n  const [loadingMap, setLoadingMap] = useState<Record<string, boolean>>({});\n  const [errorMap, setErrorMap] = useState<Record<string, string | null>>({});\n\n  const fetchStats = async (sessionId: string) => {\n    // 이미 불러온 게 있으면 열기/닫기만 토글\n    if (statsMap[sessionId]) {\n      setOpenMap((m) => ({ ...m, [sessionId]: !m[sessionId] }));\n      return;\n    }\n    try {\n      setLoadingMap((m) => ({ ...m, [sessionId]: true }));\n      setErrorMap((m) => ({ ...m, [sessionId]: null }));\n      const res = await fetch(`/api/stats/${encodeURIComponent(sessionId)}`);\n      if (!res.ok) {\n        const msg = await res.text();\n        throw new Error(msg || `HTTP ${res.status}`);\n      }\n      const data: StatsResponse = await res.json();\n      setStatsMap((m) => ({ ...m, [sessionId]: data }));\n      setOpenMap((m) => ({ ...m, [sessionId]: true }));\n    } catch (e: any) {\n      setErrorMap((m) => ({ ...m, [sessionId]: e?.message ?? \"에러\" }));\n    } finally {\n      setLoadingMap((m) => ({ ...m, [sessionId]: false }));\n    }\n  };\n\n  const StatsBlock: React.FC<{ s: StatsResponse | null }> = ({ s }) => {\n    if (!s) return null;\n    if (!s.found) return <div className=\"stats-box error\">해당 세션 통계가 없습니다.</div>;\n    const st = s.stats ?? {};\n    return (\n      <div className=\"stats-box\">\n        <div className=\"stats-row\">\n          <span className=\"stats-key\">success_rate</span>\n          <span className=\"stats-val\">{st.command?.success_rate ?? \"-\"}</span>\n        </div>\n        <div className=\"stats-row\">\n          <span className=\"stats-key\">latency.action_prev (μ/σ)</span>\n          <span className=\"stats-val\">\n            {st.latency?.action_prev?.mean ?? \"-\"} / {st.latency?.action_prev?.std ?? \"-\"}\n          </span>\n        </div>\n        <div className=\"stats-row\">\n          <span className=\"stats-key\">latency.observation_prev (μ/σ)</span>\n          <span className=\"stats-val\">\n            {st.latency?.observation_prev?.mean ?? \"-\"} / {st.latency?.observation_prev?.std ?? \"-\"}\n          </span>\n        </div>\n        <div className=\"stats-row\">\n          <span className=\"stats-key\">tracking_error (μ/σ)</span>\n          <span className=\"stats-val\">\n            {st.tracking_error?.mean ?? \"-\"} / {st.tracking_error?.std ?? \"-\"}\n          </span>\n        </div>\n        <div className=\"stats-row\">\n          <span className=\"stats-key\">joint_velocity_diff (μ/σ)</span>\n          <span className=\"stats-val\">\n            {st.joint_velocity_diff?.mean ?? \"-\"} / {st.joint_velocity_diff?.std ?? \"-\"}\n          </span>\n        </div>\n      </div>\n    );\n  };\n\n  const renderCard = (result: any, idx: number) => {\n    const sid = String(result.session_id);\n    const isOpen = !!openMap[sid];\n    const isLoading = !!loadingMap[sid];\n    const err = errorMap[sid];\n\n    return (\n      <div key={sid} className=\"result-card\">\n        <p>\n          {result.session_id} - {result.camera_id}\n        </p>\n        <video\n          ref={(el) => {\n            if (videoRefs.current) videoRefs.current[idx] = el;\n          }}\n          src={result.video_url}\n          controls\n          autoPlay\n          muted\n          width=\"320\"\n        />\n        <div className=\"card-actions\">\n          <button onClick={() => fetchStats(sid)} disabled={isLoading}>\n            {isLoading ? \"불러오는 중...\" : isOpen ? \"통계 닫기\" : \"통계 보기\"}\n          </button>\n        </div>\n        {err && <div className=\"stats-box error\">에러: {err}</div>}\n        {isOpen && <StatsBlock s={statsMap[sid] ?? null} />}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"search-container\">\n      {/* 검색 박스 */}\n      <div className=\"search-box\">\n        <input\n          type=\"text\"\n          placeholder=\"검색어를 입력하세요...\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n        />\n        <button onClick={handleSearch}>검색</button>\n      </div>\n\n      {/* 검색 결과 */}\n      <div className=\"results-grid\">\n        {/* 텍스트 → 텍스트 결과 */}\n        <div className=\"results-column\">\n          <h2>텍스트 → 텍스트 결과</h2>\n          {textResults.slice(0, 5).map((r: any, idx: number) => renderCard(r, idx))}\n        </div>\n\n        {/* 텍스트 → 이미지 결과 */}\n        <div className=\"results-column\">\n          <h2>텍스트 → 이미지 결과</h2>\n          {imageResults.slice(0, 5).map((r: any, idx: number) => renderCard(r, idx))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SearchPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}