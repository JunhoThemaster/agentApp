{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from \"react\";\nimport { searchTextApi } from \"../api\";\nexport function useSearchVideos() {\n  _s();\n  const [query, setQuery] = useState(\"\");\n  const [textResults, setTextResults] = useState([]);\n  const videoRefs = useRef([]);\n\n  // üîé Í≤ÄÏÉâ Ïã§Ìñâ\n  const handleSearch = async () => {\n    console.log(\"Í≤ÄÏÉâÏñ¥:\", query);\n    try {\n      const res = await fetch(searchTextApi(query));\n      if (!res.ok) throw new Error(\"Í≤ÄÏÉâ API Ïò§Î•ò\");\n      const data = await res.json();\n      if (data.results && data.results.length > 0) {\n        // Î∞±ÏóîÎìúÏóêÏÑú ÎÇ¥Î†§Ïò® video_url Í∑∏ÎåÄÎ°ú ÏÇ¨Ïö©\n        setTextResults(data.results);\n        console.log(data.results);\n      } else {\n        setTextResults([]);\n        console.log(data.results);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // üé¨ Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä Î∞îÎÄî ÎïåÎßàÎã§ ÏûêÎèôÏû¨ÏÉù ÏãúÎèÑ\n  useEffect(() => {\n    videoRefs.current.forEach(video => {\n      if (video) {\n        video.play().catch(err => {\n          console.warn(\"ÏûêÎèôÏû¨ÏÉù Ïã§Ìå®:\", err);\n        });\n      }\n    });\n  }, [textResults]);\n  return {\n    query,\n    setQuery,\n    textResults,\n    videoRefs,\n    handleSearch\n  };\n}\n_s(useSearchVideos, \"/NxPs5qCvUxeUUCvCVM4JrmtFfM=\");","map":{"version":3,"names":["useState","useRef","useEffect","searchTextApi","useSearchVideos","_s","query","setQuery","textResults","setTextResults","videoRefs","handleSearch","console","log","res","fetch","ok","Error","data","json","results","length","err","error","current","forEach","video","play","catch","warn"],"sources":["/home/dickson/Î¨∏ÏÑú/agentApp/frontend/src/hooks/useSearchVideos.ts"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\nimport { searchTextApi } from \"../api\";\n\nexport function useSearchVideos() {\n  const [query, setQuery] = useState(\"\");\n  const [textResults, setTextResults] = useState<any[]>([]);\n  const videoRefs = useRef<(HTMLVideoElement | null)[]>([]);\n\n  // üîé Í≤ÄÏÉâ Ïã§Ìñâ\n  const handleSearch = async () => {\n    console.log(\"Í≤ÄÏÉâÏñ¥:\", query);\n\n    try {\n      const res = await fetch(searchTextApi(query));\n      if (!res.ok) throw new Error(\"Í≤ÄÏÉâ API Ïò§Î•ò\");\n      const data = await res.json();\n\n      if (data.results && data.results.length > 0) {\n        // Î∞±ÏóîÎìúÏóêÏÑú ÎÇ¥Î†§Ïò® video_url Í∑∏ÎåÄÎ°ú ÏÇ¨Ïö©\n        setTextResults(data.results);\n        console.log(data.results)\n      } else {\n        setTextResults([]);\n        console.log(data.results)\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // üé¨ Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä Î∞îÎÄî ÎïåÎßàÎã§ ÏûêÎèôÏû¨ÏÉù ÏãúÎèÑ\n  useEffect(() => {\n    videoRefs.current.forEach((video) => {\n      if (video) {\n        video.play().catch((err) => {\n          console.warn(\"ÏûêÎèôÏû¨ÏÉù Ïã§Ìå®:\", err);\n        });\n      }\n    });\n  }, [textResults]);\n\n  return { query, setQuery, textResults, videoRefs, handleSearch };\n}\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AACnD,SAASC,aAAa,QAAQ,QAAQ;AAEtC,OAAO,SAASC,eAAeA,CAAA,EAAG;EAAAC,EAAA;EAChC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAQ,EAAE,CAAC;EACzD,MAAMU,SAAS,GAAGT,MAAM,CAA8B,EAAE,CAAC;;EAEzD;EACA,MAAMU,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/BC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEP,KAAK,CAAC;IAE1B,IAAI;MACF,MAAMQ,GAAG,GAAG,MAAMC,KAAK,CAACZ,aAAa,CAACG,KAAK,CAAC,CAAC;MAC7C,IAAI,CAACQ,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,WAAW,CAAC;MACzC,MAAMC,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC;MAE7B,IAAID,IAAI,CAACE,OAAO,IAAIF,IAAI,CAACE,OAAO,CAACC,MAAM,GAAG,CAAC,EAAE;QAC3C;QACAZ,cAAc,CAACS,IAAI,CAACE,OAAO,CAAC;QAC5BR,OAAO,CAACC,GAAG,CAACK,IAAI,CAACE,OAAO,CAAC;MAC3B,CAAC,MAAM;QACLX,cAAc,CAAC,EAAE,CAAC;QAClBG,OAAO,CAACC,GAAG,CAACK,IAAI,CAACE,OAAO,CAAC;MAC3B;IACF,CAAC,CAAC,OAAOE,GAAG,EAAE;MACZV,OAAO,CAACW,KAAK,CAACD,GAAG,CAAC;IACpB;EACF,CAAC;;EAED;EACApB,SAAS,CAAC,MAAM;IACdQ,SAAS,CAACc,OAAO,CAACC,OAAO,CAAEC,KAAK,IAAK;MACnC,IAAIA,KAAK,EAAE;QACTA,KAAK,CAACC,IAAI,CAAC,CAAC,CAACC,KAAK,CAAEN,GAAG,IAAK;UAC1BV,OAAO,CAACiB,IAAI,CAAC,UAAU,EAAEP,GAAG,CAAC;QAC/B,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACd,WAAW,CAAC,CAAC;EAEjB,OAAO;IAAEF,KAAK;IAAEC,QAAQ;IAAEC,WAAW;IAAEE,SAAS;IAAEC;EAAa,CAAC;AAClE;AAACN,EAAA,CAvCeD,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}