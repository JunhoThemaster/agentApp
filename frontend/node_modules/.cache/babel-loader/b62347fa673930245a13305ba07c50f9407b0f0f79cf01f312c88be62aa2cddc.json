{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from \"react\";\nimport { searchTextApi, searchImageApi } from \"../api\"; // ‚úÖ ÌÖçÏä§Ìä∏Ïö© / Ïù¥ÎØ∏ÏßÄÏö© Î∂ÑÎ¶¨\n\nexport function useSearchVideos() {\n  _s();\n  const [query, setQuery] = useState(\"\");\n  const [textResults, setTextResults] = useState([]);\n  const [imageResults, setImageResults] = useState([]); // ‚úÖ Ï∂îÍ∞Ä\n  const videoRefs = useRef([]);\n\n  // üîé Í≤ÄÏÉâ Ïã§Ìñâ\n  const handleSearch = async () => {\n    console.log(\"Í≤ÄÏÉâÏñ¥:\", query);\n    try {\n      const [textRes, imageRes] = await Promise.all([fetch(searchTextApi(query)), fetch(searchImageApi(query))]);\n      if (!textRes.ok || !imageRes.ok) throw new Error(\"Í≤ÄÏÉâ API Ïò§Î•ò\");\n      const textData = await textRes.json();\n      const imageData = await imageRes.json();\n      setTextResults(textData || []);\n      setImageResults(imageData || []); // ‚úÖ Ïù¥ÎØ∏ÏßÄ Í≤∞Í≥º Î∞òÏòÅ\n\n      console.log(\"ÌÖçÏä§Ìä∏ Í≤∞Í≥º:\", textData);\n      console.log(\"Ïù¥ÎØ∏ÏßÄ Í≤∞Í≥º:\", imageData);\n    } catch (err) {\n      console.error(err);\n      setTextResults([]);\n      setImageResults([]);\n    }\n  };\n\n  // üé¨ Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä Î∞îÎÄî ÎïåÎßàÎã§ ÏûêÎèôÏû¨ÏÉù ÏãúÎèÑ\n  useEffect(() => {\n    videoRefs.current.forEach(video => {\n      if (video) {\n        video.play().catch(err => {\n          console.warn(\"ÏûêÎèôÏû¨ÏÉù Ïã§Ìå®:\", err);\n        });\n      }\n    });\n  }, [textResults]);\n  return {\n    query,\n    setQuery,\n    textResults,\n    imageResults,\n    videoRefs,\n    handleSearch\n  };\n}\n_s(useSearchVideos, \"eYV+225V6w+4+QLCgkRhlzN5C50=\");","map":{"version":3,"names":["useState","useRef","useEffect","searchTextApi","searchImageApi","useSearchVideos","_s","query","setQuery","textResults","setTextResults","imageResults","setImageResults","videoRefs","handleSearch","console","log","textRes","imageRes","Promise","all","fetch","ok","Error","textData","json","imageData","err","error","current","forEach","video","play","catch","warn"],"sources":["/home/user2/Î¨∏ÏÑú/agentApp/frontend/src/hooks/useSearchVideos.ts"],"sourcesContent":["import { useState, useRef, useEffect } from \"react\";\nimport { searchTextApi, searchImageApi } from \"../api\";  // ‚úÖ ÌÖçÏä§Ìä∏Ïö© / Ïù¥ÎØ∏ÏßÄÏö© Î∂ÑÎ¶¨\n\nexport function useSearchVideos() {\n  const [query, setQuery] = useState(\"\");\n  const [textResults, setTextResults] = useState<any[]>([]);\n  const [imageResults, setImageResults] = useState<any[]>([]);   // ‚úÖ Ï∂îÍ∞Ä\n  const videoRefs = useRef<(HTMLVideoElement | null)[]>([]);\n\n  // üîé Í≤ÄÏÉâ Ïã§Ìñâ\n  const handleSearch = async () => {\n    console.log(\"Í≤ÄÏÉâÏñ¥:\", query);\n\n    try {\n      const [textRes, imageRes] = await Promise.all([\n        fetch(searchTextApi(query)),\n        fetch(searchImageApi(query))\n      ]);\n\n      if (!textRes.ok || !imageRes.ok) throw new Error(\"Í≤ÄÏÉâ API Ïò§Î•ò\");\n\n      const textData = await textRes.json();\n      const imageData = await imageRes.json();\n\n      setTextResults(textData || []);\n      setImageResults(imageData || []);   // ‚úÖ Ïù¥ÎØ∏ÏßÄ Í≤∞Í≥º Î∞òÏòÅ\n\n      console.log(\"ÌÖçÏä§Ìä∏ Í≤∞Í≥º:\", textData);\n      console.log(\"Ïù¥ÎØ∏ÏßÄ Í≤∞Í≥º:\", imageData);\n    } catch (err) {\n      console.error(err);\n      setTextResults([]);\n      setImageResults([]);\n    }\n  };\n\n  // üé¨ Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä Î∞îÎÄî ÎïåÎßàÎã§ ÏûêÎèôÏû¨ÏÉù ÏãúÎèÑ\n  useEffect(() => {\n    videoRefs.current.forEach((video) => {\n      if (video) {\n        video.play().catch((err) => {\n          console.warn(\"ÏûêÎèôÏû¨ÏÉù Ïã§Ìå®:\", err);\n        });\n      }\n    });\n  }, [textResults]);\n\n  return { query, setQuery, textResults, imageResults, videoRefs, handleSearch };\n}\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AACnD,SAASC,aAAa,EAAEC,cAAc,QAAQ,QAAQ,CAAC,CAAE;;AAEzD,OAAO,SAASC,eAAeA,CAAA,EAAG;EAAAC,EAAA;EAChC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACS,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAQ,EAAE,CAAC;EACzD,MAAM,CAACW,YAAY,EAAEC,eAAe,CAAC,GAAGZ,QAAQ,CAAQ,EAAE,CAAC,CAAC,CAAG;EAC/D,MAAMa,SAAS,GAAGZ,MAAM,CAA8B,EAAE,CAAC;;EAEzD;EACA,MAAMa,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/BC,OAAO,CAACC,GAAG,CAAC,MAAM,EAAET,KAAK,CAAC;IAE1B,IAAI;MACF,MAAM,CAACU,OAAO,EAAEC,QAAQ,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CAC5CC,KAAK,CAAClB,aAAa,CAACI,KAAK,CAAC,CAAC,EAC3Bc,KAAK,CAACjB,cAAc,CAACG,KAAK,CAAC,CAAC,CAC7B,CAAC;MAEF,IAAI,CAACU,OAAO,CAACK,EAAE,IAAI,CAACJ,QAAQ,CAACI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,WAAW,CAAC;MAE7D,MAAMC,QAAQ,GAAG,MAAMP,OAAO,CAACQ,IAAI,CAAC,CAAC;MACrC,MAAMC,SAAS,GAAG,MAAMR,QAAQ,CAACO,IAAI,CAAC,CAAC;MAEvCf,cAAc,CAACc,QAAQ,IAAI,EAAE,CAAC;MAC9BZ,eAAe,CAACc,SAAS,IAAI,EAAE,CAAC,CAAC,CAAG;;MAEpCX,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEQ,QAAQ,CAAC;MAChCT,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEU,SAAS,CAAC;IACnC,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZZ,OAAO,CAACa,KAAK,CAACD,GAAG,CAAC;MAClBjB,cAAc,CAAC,EAAE,CAAC;MAClBE,eAAe,CAAC,EAAE,CAAC;IACrB;EACF,CAAC;;EAED;EACAV,SAAS,CAAC,MAAM;IACdW,SAAS,CAACgB,OAAO,CAACC,OAAO,CAAEC,KAAK,IAAK;MACnC,IAAIA,KAAK,EAAE;QACTA,KAAK,CAACC,IAAI,CAAC,CAAC,CAACC,KAAK,CAAEN,GAAG,IAAK;UAC1BZ,OAAO,CAACmB,IAAI,CAAC,UAAU,EAAEP,GAAG,CAAC;QAC/B,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAAClB,WAAW,CAAC,CAAC;EAEjB,OAAO;IAAEF,KAAK;IAAEC,QAAQ;IAAEC,WAAW;IAAEE,YAAY;IAAEE,SAAS;IAAEC;EAAa,CAAC;AAChF;AAACR,EAAA,CA7CeD,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}